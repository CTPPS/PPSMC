# CONDOR DAGMAN FOR RUN-2 UL MC SIMULATION

# LIST OF JOBS:
SCRIPT PRE LHE init.sh
JOB LHE sub/fpmc-semi.sub
# SENDMAIL AFTER EACH STEP FIXME
JOB Merge sub/MERGE.sub
JOB pLHE sub/pLHE.sub
JOB GEN sub/GEN.sub
JOB SIM sub/SIM.sub
JOB DR sub/DR.sub
JOB HLT sub/HLT.sub
JOB RECO sub/RECO.sub
JOB MINI sub/MINI.sub
JOB CLEANUP sub/CLEAN.sub

##########
#
# USER INPUTS
#

# LHE DEFINITIONS:
VARS LHE ENERGY="13000"
VARS LHE EVTS="50"
VARS LHE PID="16010"
VARS ALL_NODES A0W="3E-7"
VARS ALL_NODES ACW="1E-7"
VARS ALL_NODES A1="0E0"
VARS ALL_NODES A2="0E0"

# GLOBAL DEFINITIONS:
VARS ALL_NODES INPUTPATH="/eos/cms/store/group/phys_pps/MC/requests_2019ul/private/UL18/"
VARS ALL_NODES FILES="10"
VARS ALL_NODES JOBNAME="FPMC-Run2-$(A0W)-$(ACW)"
VARS ALL_NODES PRODNAME="FPMC_WW_13TeV_a0w_$(A0W)_aCw_$(ACW)_SemiDecay_pt0"
VARS ALL_NODES EOSROOT="root://eoscms.cern.ch"
VARS ALL_NODES EOSAREA="/eos/cms/store/group/phys_pps/MC/requests_2019ul/private/UL18/"

##########

# SIMULATION STEPS:
VARS LHE INPUTCARD="input.card"
VARS LHE EXTRA="fpmc_lhe.f"

VARS pLHE SCRAMARCH="slc7_amd64_gcc700"
VARS pLHE CMSSW="CMSSW_10_6_21"
VARS pLHE CONFIG="pLHE_cfg.py"

VARS GEN SCRAMARCH="slc7_amd64_gcc700"
VARS GEN CMSSW="CMSSW_10_6_21"
VARS GEN CONFIG="GEN_cfg.py"

VARS SIM SCRAMARCH="slc7_amd64_gcc700"
VARS SIM CMSSW="CMSSW_10_6_21"
VARS SIM CONFIG="SIM_cfg.py"

VARS DR SCRAMARCH="slc7_amd64_gcc700"
VARS DR CMSSW="CMSSW_10_6_21"
VARS DR CONFIG="DRPremix_cfg.py"

VARS HLT SCRAMARCH="slc7_amd64_gcc700"
VARS HLT CMSSW="CMSSW_10_2_16_UL"
VARS HLT CONFIG="HLT_cfg.py"

VARS RECO SCRAMARCH="slc7_amd64_gcc700"
VARS RECO CMSSW="CMSSW_10_6_17_patch1"
VARS RECO CONFIG="RECO_cfg.py"

VARS MINI SCRAMARCH="slc7_amd64_gcc700"
VARS MINI CMSSW="CMSSW_10_6_20"
VARS MINI CONFIG="MINI_cfg.py"

# SIMULATION CHAIN:
PARENT LHE CHILD Merge
PARENT Merge CHILD pLHE
PARENT pLHE CHILD GEN
PARENT GEN CHILD SIM
PARENT SIM CHILD DR
PARENT DR CHILD HLT
PARENT HLT CHILD RECO
PARENT RECO CHILD MINI
#PARENT MINI CHILD CLEANUP
